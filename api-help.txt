API HELP :

REQUEST FORM - TO TEST
    {'type' : <type>, 'cmd' : <cmd>, ...}
    -> Reply to request
    => Message recieved without request


ERROR - TO TEST
    => Error recieved
        'type' : 'error'
        'error' : <error>


CONNECTION
    with token - TO TEST
        'type' : 'connect'
        'cmd' : 'by_token'
        'token' : <token>
        -> 'type' : 'connectionReply'
           'success' : true | false
           'error' : <error> #Empty in case of success = true

    with username - TO TEST
        'type' : 'connect'
        'cmd' : 'by_username'
        'username' : <username>
        'password' : <password>
        -> 'type' : 'connectionReply'
           'success' : true | false
           'error' : <error> #Empty in case of success = true


MESSAGE
    send message - TO TEST
        'type' : 'message'
        'cmd' : 'sendMessage'
        'message' : <message>
        'channel' : 'general' | <user id>
        -> {{message}}

    => Message recieved
        {{message}}

    => Server message recieved
        'type' : 'serverMessage'
        'message' : <message>
        'date' : <date>

    => Invite recieved
        'type' : 'invite'
        'username' : <username>
        'pp' : <profile picture link>
        'roomId' : <room id>

    {{message}} :
        'type' : 'message'
        'message' : <message>
        'username' : <username>
        'pp' : <profile picture link>
        'date' : <date>
        'channel' : 'general' | <user id>


QUICK GAME ROOM
    ask for new game
        'type' : 'quickRoom'
        'cmd' : 'askForRoom'
        -> 'type' : 'joinWaitlist'

    quit game wait
        'type' : 'quickRoom'
        'cmd' : 'quitRoom'
        -> 'type' : 'quitWaitlist'

    => Game start
        'type' : 'gameStart'
        'gamePort' : <port> # port of the websocket for game
        'paddleId' : <paddle id>
        'teamId' : <team id> # 0 left, 1 right


GAME ROOM
    create game room
        'type' : 'gameRoom'
        'cmd' : 'createRoom'
        -> 'type' : 'createRoomInfo'
           {{update room info}}

    join game room
        'type' : 'gameRoom'
        'cmd' : 'joinRoom'
        'gameRoomId' : <game room id>
        -> 'type' : 'joinRoomInfo'
           {{join room info}}

    quit game room
        'type' : 'gameRoom'
        'cmd' : 'quitGameRoom'
        -> 'type' : 'quitGameRoom'

    /!\ Only the creator of the room can use it /!\
    send game room invite
        'type' : 'gameRoom'
        'cmd' : inviteGameRoom'
        'targetId' : <user id>
        -> No more field

    /!\ Only the creator of the room can use it /!\
    quick user from room
        'type' : 'gameRoom'
        'cmd' : 'quickUser'
        'targetId' : <user id>
        -> 'type' : 'updateRoomInfo'
           {{update room info}}

    /!\ Only the creator of the room can use it /!\
    add bot to a team
        'type' : 'gameRoom'
        'cmd' : 'addBot'
        'team' : 'left' | 'right'
        -> 'type' : 'updateRoomInfo'
           {{update room info}}

    /!\ Only the creator of the room can use it /!\
    remove bot to a team
        'type' : 'gameRoom'
        'cmd' : 'removeBot'
        'team' : 'left' | 'right'
        -> 'type' : 'updateRoomInfo'
           {{update room info}}

    change team
        'type' : 'gameRoom'
        'cmd' : 'changeTeam'
        'team' : 'left' | 'right'
        -> 'type' : 'updateRoomInfo'
           {{update room info}}

    /!\ Only the creator of the room can use it /!\
    change power up option
        'type' : 'gameRoom'
        'cmd' : 'changePowerUp'
        -> 'type' : 'updateRoomInfo'
           {{update room info}}

    /!\ Only the creator of the room can use it /!\
    change map
        'type' : 'gameRoom'
        'cmd' : 'changeMap'
        'mapId' : <map id>
        -> 'type' : 'updateRoomInfo'
    	   {{update room info}}

    /!\ Only the creator of the room can use it /!\
    start game
        'type' : 'gameRoom'
        'cmd' : 'startGame'
        -> 'type' : 'startGame'
           'success' : true | false

	=> invite reply
		'type' : 'ReplyGameRoom'
		'targetId' : <user id> | 'ia'
		'success' : true | false

	=> someone quit game room
		'type' : 'quitGameRoom'
		{{update room info}}

	=> quick from game room # When the creator leave the game room
		'type' : 'quickFromGameRoom'

    => update room info
    	'type' : 'updateRoomInfo'
        {{update room info}}

    => Game start
        'type' : 'gameStart'
        'gamePort' : <port> # port of the websocket for game
        'paddleId' : <paddle id>
        'teamId' : <team id> # 0 left, 1 right

    {{update room info}} :
        'mapId' : <map id>
        'powerUpActivate' : false | true
        'teamLeft' : [<user id>] # if id -1, it's an ia
        'teamRight' : [<user id>]


TOURNAMENT
    /!\ Only the administrator can create tournament /!\
    create tournament
        'type' : 'tournament'
        'cmd' : 'create'
        'powerUp' : true | false
        'mapId' : <map id>
        -> {{tournament state}}

    /!\ Only the administrator can modify tournament /!\
    modify tournament parameters
        'type' : 'tournament'
        'cmd' : 'modifyParams'
        'powerUp' : true | false
        'mapId' : <map id>
        -> {{tournament state}}
        
    /!\ Only the administrator can start tournament /!\
    start tournament
        'type' : 'tournament'
        'cmd' : 'start'
        'start' : <start date>
        'powerUp' : true | false
        'mapId' : <map id>
        -> 'type' : 'tournamentStart'

    join tournament
        'type' : 'tournament'
        'cmd' : 'join'
        'nickname' : <nickname>
        -> 'type' : 'joinReply'
           'success' : true | false
           'tournamentUserId' : <tournament user id> | null
           'error' : <error> | null
	           
	quit tournament
        'type' : 'tournament'
        'cmd' : 'quit'
        -> No more field
        
	/!\ Only work if the tournament has begin /!\   
    get next match of user
        'type' : 'tournament'
        'cmd' : 'myNextMatch'
        'tournamentUserId' = <tournament user id>
        -> 'type' : 'myNextMatch'
           'playerLeft' : <user view> | null
           'playerRight' : <user view> | null

	=> {{tournament state}}

    => Game start
        'type' : 'gameStart'
        'gamePort' : <port> # port of the websocket for game
        'paddleId' : <paddle id>
        'teamId' : <team id>
        
    => update match tree
        'type' : 'matchTreeUpdate'
    	'winner' : <tournament user id> | -1
    	'final' : (<tournament user id> | -1) * 2
    	'half' : (<tournament user id> | -1) * 4
    	'quarter' : (<tournament user id> | -1) * 8

    => match result
        'type' : 'matchResult'
        'winner' : <tournament user id>
        'loser' : <tournament user id>

    => nextMatch
        'type' : 'nextMatch'
        'playerLeft' : <user view>
        'playerRight' : <user view>

    => end tournament
        'type' : 'endTournament'
        'onePongMan' : <tournament user id>

	{{tournament state}}
		'type' : 'tournamentState'
		'powerUp' : true | false
        'mapId' : <map id>
        'players' : [<user view>]

    <user view>
    	[<user id>, <user pp>, <user nickmane>]


/!\ All messages for and from game are in it's websocket /!\
GAME
	player identification
		'type' : 'userIdentification'
		'id_paddle' : <id paddle>
		'id_team' : <id team>
		-> No more field

    player input
        'type' : 'userInput'
        'key' : 'up' | 'down' | 'powerUp' | 'launchBall'
        'value' : 'press' | 'release'
        -> No more field

    => start info
        'type' : 'startInfo'
        'obstacles' : [<obstacles>, ...]
        'powerUp' : true | false

    => server info
        'type' : 'serverInfo'
        'updateObstacles' : [[<obstacles index>, <point>, [<point>, ...]], ...] | null
        'updatePaddles' : [<paddles>, ...]  | null
        'updateBalls' : [<ball>, ...] | null
        'deleteBall' : [<ball index>, ...]  | null
        'changeUserPowerUp' :  <power up id> | null 					
        'updatePowerUpInGame' : <powerUp> | null 
        'updateScore' : [<score left, score right>]  | null

    => end game
        'type' : 'endGame' # Not the movie
        'leftTeamScore' : <left team score>
        'rightTeamScore' : <right team score>

	<powerUp> :
		[<point>, true | false] {=} ['coordonne', 'visible']

    <paddles> :
		[<point>, float, <team id>, <paddle id> , int] {=} ['position', 'modifiersize', 'teamId','paddleId', 'powerUpInCharge']

	<team id> :
		0 | 1 {=} left | right

    <ball> :
		[<point>, <point>, int, int, int, int] {=} ['position', 'direction', 'radius', 'speed', 'status', 'modifier_state']

    <point> :
		[float, float] {=} ['x', 'y']
